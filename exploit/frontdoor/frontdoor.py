import urllib.parse
import urllib.request

def get_flag(username, password):
    debug = True  # Set to True for debugging
    s_url = "http://10.0.2.2:31337/getflag" 
    url_parameters = "username=testuser&password=passtestuser123" if debug else f"username={username}&password={password}"

    url = s_url + "?" + url_parameters
    request = urllib.request.Request(url)
    request.add_header("Content-Type", "application/x-www-form-urlencoded")
    request.add_header("charset", "utf-8")

    with urllib.request.urlopen(request) as response:
        content = response.read().decode("utf-8")

    return content

# Example usage
try:
    username_input = input("Enter username: ")
    password_input = input("Enter password: ")

    result = get_flag(username_input, password_input)
    print("Result:", result)

except Exception as e:
    print("Error:", e)
